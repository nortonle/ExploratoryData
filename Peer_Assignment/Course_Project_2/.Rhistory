NEI <- readRDS("summarySCC_PM25.rds")
SCC <- readRDS("Source_Classification_Code.rds")
NEI <- readRDS("data/summarySCC_PM25.rds")
SCC <- readRDS("data/Source_Classification_Code.rds")
class(NEI)
str(NEI)
str(SCC)
str(NEI)
head(NEI)
nrow(NEI[NEI$year == 1999, ])
nrow(NEI[NEI$year == 2000, ])
head(SCC)
aggTotals <- aggregate(Emissions ~ year,NEI, sum)
class(aggTotals)
aggTotals
rm(aggTotals)
library(dplyr)
install.packages("dplyr")
install.packages("dplyr")
library(dplyr)
sum_year <- group_by(NEI, year) %>%
summarise(sum = sum())
sum_year
sum_year <- group_by(NEI, year) %>%
summarise(sum = sum(Emissions))
sum_year
aggregate(Emissions ~ year,NEI, sum)
plot(sum_year)
plot(x = sum_year)
with(sum_year, plot(x = year, y = sum, type = l))
with(sum_year, plot(x = year, y = sum, type = "l"))
barplot(sum_year)
barplot(height = sum_year$sum, width = sum_year$year)
barplot(height = sum_year$sum, width = sum_year$year, xlab = "Year", ylab = "Total Emissions")
barplot(height = sum_year$sum, width = sum_year$year, xlab = "Year", ylab = "Total Emissions", names.arg = sum_year$year)
barplot(height = sum_year$sum, width = sum_year$year, xlab = "Year", ylab = "Total Emissions", names.arg = sum_year$year, main = "Total PM 2.5 Emissions From All US sources")
barplot(height = (sum_year$sum)/10^6, width = sum_year$year, xlab = "Year", ylab = "Total Emissions", names.arg = sum_year$year, main = "Total PM 2.5 Emissions From All US sources")
with(sum_year, plot(x = year, y = sum, type = l))
with(sum_year, plot(x = year, y = sum, type = "l"))
with(sum_year, plot(x = year, y = sum/10^6, type = "l"))
with(sum_year, barplot(height = sum/10^6, width = year, xlab = "Year", ylab = "Total Emissions", main = "Total PM 2.5 emissions from all US sources"))
dev.copy(png, "plot2.png", width = 480, height = 480)
dev.off()
rm(sum_year)
sum_year <- filter(NEI, fips == "24510") %>%
group_by(year) %>%
summarise(sum = sum(Emissions))
sum_year
with(sum_year, barplot(height = sum, width = year, xlab = "Year", ylab = "Total Emissions", main = "Total PM 2.5 emissions from all US sources"))
dev.copy(png, "plot2.png", width = 480, height = 480)
dev.off()
library(ggplot2)
ggplot(data = sum_year)
rm(sum_year)
baltimoreNEI <- filter(NEI, fips == "24510")
ggplot(data = baltimoreNEI, aes(factor(year),Emissions,fill=type)))
ggplot(data = baltimoreNEI, aes(factor(year),Emissions,fill=type))
ggplot(data = baltimoreNEI, aes(factor(year),Emissions,fill=type), geom_bar(stat="identity"))
ggplot(data = baltimoreNEI, aes(factor(year),Emissions,fill=type) + geom_bar(stat="identity"))
ggp <- ggplot(baltimoreNEI,aes(factor(year),Emissions,fill=type)) +
geom_bar(stat="identity") +
theme_bw() + guides(fill=FALSE)+
facet_grid(.~type,scales = "free",space="free") +
labs(x="year", y=expression("Total PM"[2.5]*" Emission (Tons)")) +
labs(title=expression("PM"[2.5]*" Emissions, Baltimore City 1999-2008 by Source Type"))
ggp
dev.copy(png, "plot3.png", width = 480, height = 480)
dev.off()
source('G:/git/Exploratory Data analysis/Peer_Assignment/Course_Project_2/plot3.R')
rm(list = ls())
source('G:/git/Exploratory Data analysis/Peer_Assignment/Course_Project_2/plot3.R')
source('G:/git/Exploratory Data analysis/Peer_Assignment/Course_Project_2/plot3.R')
sum_year <- group_by(NEI, year) %>%
summarise(sum = sum(Emissions))
##---------------------------------------------------------##
with(sum_year, barplot(height = sum/10^6, width = year, xlab = "Year", ylab = "Total Emissions", main = "Total PM 2.5 emissions from all US sources"))
##---------------------------------------------------------##
dev.copy(png, "plot2.png", width = 480, height = 480)
dev.off()
dev.copy(png, "plot1.png", width = 480, height = 480)
dev.off()
sum_year <- filter(NEI, fips == "24510") %>%
group_by(year) %>%
summarise(sum = sum(Emissions))
##---------------------------------------------------------##
with(sum_year, barplot(height = sum, width = year, xlab = "Year", ylab = "Total Emissions", main = "Total PM 2.5 emissions from all US sources"))
##---------------------------------------------------------##
dev.copy(png, "plot2.png", width = 480, height = 480)
dev.off()
with(sum_year, barplot(height = sum, width = year, xlab = "Year", ylab = "Total Emissions", main = "Total PM 2.5 emissions from all Baltimore source sources"))
##---------------------------------------------------------##
dev.copy(png, "plot2.png", width = 480, height = 480)
dev.off()
with(sum_year, barplot(height = sum, width = year, xlab = "Year", ylab = "Total Emissions", main = "Total PM 2.5 emissions from all Baltimore sources"))
##---------------------------------------------------------##
dev.copy(png, "plot2.png")
dev.off()
str(SCC)
head(SCC)
